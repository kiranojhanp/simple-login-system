(this["webpackJsonpokhati-assignment"]=this["webpackJsonpokhati-assignment"]||[]).push([[0],{143:function(e,a,s){},144:function(e,a,s){},248:function(e,a,s){"use strict";s.r(a);var t=s(3),r=s(0),n=s.n(r),i=s(10),o=s.n(i),c=(s(143),s(39)),l=s(11),d=(s(144),s(17)),m=s(20),u=s(287),j=s(283),h=s(290),b=s(285),p=s(284),x=s(286),O=s(288),g=s(126),w=s(278),f=s(281),v=s(57),P=s.n(v),N=s(58),y=s.n(N),C=Object(r.createContext)(),T=localStorage.getItem("userList")?JSON.parse(localStorage.getItem("userList")):[{id:1,full_name:"Kiran Ojha",email:"kiran@gmail.com",password:"123456789abc",avatar:"https://i.imgur.com/uKlMTbx.jpg"},{id:2,full_name:"Kamal Ojha",email:"kamal@gmail.com",password:"123456789abc",avatar:"https://i.imgur.com/uKlMTbx.jpg"}],S=function(e){var a=Object(r.useState)(T),s=Object(m.a)(a,2),n=s[0],i=s[1];return Object(t.jsx)(C.Provider,{value:[n,i],children:e.children})},I=s(49),k=s(24),W=k.a().shape({email:k.c().email().required("This field is required."),password:k.c().min(8,"Password is too short - should be 8 chars minimum.").max(20,"Password is too long - should be less than 20 characters.").matches(/[a-zA-Z]/,"Password can only contain Latin letters.").required("This field is required.")}),q=Object(w.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),B=function(){var e=Object(l.g)(),a=q(),s=Object(r.useContext)(C),i=Object(m.a)(s,2),o=i[0],c=(i[1],n.a.useState({showPassword:!1})),w=Object(m.a)(c,2),v=w[0],N=w[1],T=function(){N(Object(d.a)(Object(d.a)({},v),{},{showPassword:!v.showPassword}))},S=function(){return N(Object(d.a)(Object(d.a)({},v),{},{showPassword:!v.showPassword}))};return Object(t.jsxs)(f.a,{component:"main",maxWidth:"xs",children:[Object(t.jsx)(j.a,{}),Object(t.jsxs)("div",{className:a.paper,children:[Object(t.jsx)(g.a,{component:"h1",variant:"h5",children:"Login"}),Object(t.jsx)(I.b,{initialValues:{email:"",password:""},validationSchema:W,onSubmit:function(a){!function(a){var s=o.filter((function(e){return e.email===a.email&&e.password===a.password}));console.log(s);var t=0!==Object.keys(s).length;if(t){var r=Object(d.a)(Object(d.a)({},s[0]),{},{isValid:t});localStorage.setItem("userInfo",JSON.stringify(r)),e.push("/dashboard")}else e.push("/")}(a)},children:function(e){var s=e.errors,r=e.handleChange,n=e.handleBlur,i=e.touched;return Object(t.jsxs)(I.a,{className:a.form,children:[Object(t.jsxs)(p.a,{container:!0,spacing:2,children:[Object(t.jsx)(p.a,{item:!0,xs:12,children:Object(t.jsx)(h.a,{error:s.email&&i.email,variant:"outlined",fullWidth:!0,onChange:r,onBlur:n,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,helperText:s.email&&i.email?s.email:null})}),Object(t.jsx)(p.a,{item:!0,xs:12,children:Object(t.jsx)(h.a,{error:s.password&&i.password,variant:"outlined",fullWidth:!0,onChange:r,onBlur:n,name:"password",label:"Password",type:v.showPassword?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:Object(t.jsx)(b.a,{position:"end",children:Object(t.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:T,onMouseDown:S,children:v.showPassword?Object(t.jsx)(P.a,{}):Object(t.jsx)(y.a,{})})})},helperText:s.password&&i.password?s.password:null})})]}),Object(t.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Login"}),Object(t.jsxs)(p.a,{container:!0,children:[Object(t.jsx)(p.a,{item:!0,xs:!0}),Object(t.jsx)(p.a,{item:!0,children:Object(t.jsx)(O.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})}})]})]})},L=s(21),A=k.a().shape({firstName:k.c().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("This field is required."),lastName:k.c().matches(/^[A-Za-z ]*$/,"Please enter valid name").required("This field is required."),email:k.c().email().required("This field is required."),password:k.c().min(8,"Password is too short - should be 8 chars minimum.").max(20,"Password is too long - should be less than 20 characters.").matches(/[a-zA-Z]/,"Password can only contain Latin letters.").required("This field is required."),confirmPassword:k.c().oneOf([k.b("password"),null],"Passwords must match").min(8,"Password is too short - should be 8 chars minimum.").max(20,"Password is too long - should be less than 20 characters.").matches(/[a-zA-Z]/,"Password can only contain Latin letters.").required("This field is required.")}),D=Object(w.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),M=function(){var e=Object(l.g)(),a=D(),s=Object(r.useContext)(C),i=Object(m.a)(s,2),o=i[0],c=(i[1],n.a.useState({showPassword:!1})),w=Object(m.a)(c,2),v=w[0],N=w[1],T=function(){N(Object(d.a)(Object(d.a)({},v),{},{showPassword:!v.showPassword}))},S=function(){return N(Object(d.a)(Object(d.a)({},v),{},{showPassword:!v.showPassword}))};return Object(t.jsxs)(f.a,{component:"main",maxWidth:"xs",children:[Object(t.jsx)(j.a,{}),Object(t.jsxs)("div",{className:a.paper,children:[Object(t.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(t.jsx)(I.b,{initialValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:""},validationSchema:A,onSubmit:function(a){!function(a){var s={id:Math.random().toString(36).substring(7),full_name:a.firstName+" "+a.lastName,email:a.email,password:a.password,avatar:"https://i.imgur.com/uKlMTbx.jpg"};o=[].concat(Object(L.a)(o),[s]),localStorage.setItem("userList",JSON.stringify(o)),e.push("/")}(a)},children:function(e){var s=e.errors,r=e.handleChange,n=e.handleBlur,i=e.touched;return Object(t.jsxs)(I.a,{className:a.form,children:[Object(t.jsxs)(p.a,{container:!0,spacing:2,children:[Object(t.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(t.jsx)(h.a,{error:s.firstName&&i.firstName,autoComplete:"fname",name:"firstName",variant:"outlined",fullWidth:!0,onChange:r,onBlur:n,id:"firstName",label:"First Name",autoFocus:!0,helperText:s.firstName&&i.firstName?s.firstName:null})}),Object(t.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(t.jsx)(h.a,{error:s.lastName&&i.lastName,variant:"outlined",fullWidth:!0,onChange:r,onBlur:n,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",helperText:s.lastName&&i.lastName?s.lastName:null})}),Object(t.jsx)(p.a,{item:!0,xs:12,children:Object(t.jsx)(h.a,{error:s.email&&i.email,variant:"outlined",fullWidth:!0,onChange:r,onBlur:n,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:s.email&&i.email?s.email:null})}),Object(t.jsx)(p.a,{item:!0,xs:12,children:Object(t.jsx)(h.a,{error:s.password&&i.password,variant:"outlined",fullWidth:!0,onChange:r,onBlur:n,name:"password",label:"Password",type:v.showPassword?"text":"password",id:"password",autoComplete:"current-password",InputProps:{endAdornment:Object(t.jsx)(b.a,{position:"end",children:Object(t.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:T,onMouseDown:S,children:v.showPassword?Object(t.jsx)(P.a,{}):Object(t.jsx)(y.a,{})})})},helperText:s.password&&i.password?s.password:null})}),Object(t.jsx)(p.a,{item:!0,xs:12,children:Object(t.jsx)(h.a,{error:s.confirmPassword&&i.confirmPassword,variant:"outlined",fullWidth:!0,onChange:r,onBlur:n,name:"confirmPassword",label:"Confirm Password",type:v.showPassword?"text":"password",id:"confirmPassword",autoComplete:"current-password",InputProps:{endAdornment:Object(t.jsx)(b.a,{position:"end",children:Object(t.jsx)(x.a,{"aria-label":"toggle password visibility",onClick:T,onMouseDown:S,children:v.showPassword?Object(t.jsx)(P.a,{}):Object(t.jsx)(y.a,{})})})},helperText:s.confirmPassword&&i.confirmPassword?s.confirmPassword:null})})]}),Object(t.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Sign Up"}),Object(t.jsxs)(p.a,{container:!0,children:[Object(t.jsx)(p.a,{item:!0,xs:!0}),Object(t.jsx)(p.a,{item:!0,children:Object(t.jsx)(O.a,{href:"/",variant:"body2",children:"Have an account? Log in"})})]})]})}})]})]})},F=s(289),J=Object(w.a)((function(e){return{root:{display:"flex",flexDirection:"column",minHeight:"100vh"},main:{marginTop:e.spacing(8),marginBottom:e.spacing(2)},media:{height:0,paddingTop:"56.25%"},footer:{padding:e.spacing(3,2),marginTop:"auto",backgroundColor:"light"===e.palette.type?e.palette.grey[200]:e.palette.grey[800]},logout:{margin:e.spacing(3,0,2)}}})),z=function(){var e=Object(l.g)(),a=J(),s=JSON.parse(localStorage.getItem("userInfo"));return Object(t.jsxs)("div",{className:a.root,children:[Object(t.jsx)(j.a,{}),Object(t.jsxs)(f.a,{component:"main",className:a.main,maxWidth:"sm",children:[Object(t.jsxs)(g.a,{variant:"h2",component:"h1",gutterBottom:!0,children:["Welcome ",s.full_name]}),Object(t.jsxs)(g.a,{variant:"body1",children:["Your email is ",s.email]}),Object(t.jsx)(F.a,{className:a.media,image:s.avatar,title:s.full_name})]}),Object(t.jsx)("footer",{className:a.footer,children:Object(t.jsx)(f.a,{maxWidth:"sm",children:Object(t.jsx)(u.a,{type:"submit",onClick:function(){localStorage.removeItem("userInfo"),e.push("/")},fullWidth:!0,variant:"contained",color:"success",className:a.logout,children:"Logout"})})})]})},K=s(124),Z=function(e){var a,s=e.component,r=Object(K.a)(e,["component"]),n=localStorage.getItem("userInfo"),i=JSON.parse(n);return console.log(i),a=!!n&&i.isValid,Object(t.jsx)(l.b,Object(d.a)(Object(d.a)({},r),{},{render:function(e){return a?Object(t.jsx)(s,Object(d.a)({},e)):Object(t.jsx)(l.a,{to:{pathname:"/",state:{from:e.location}}})}}))};var _=function(){return Object(t.jsx)(S,{children:Object(t.jsx)(c.a,{basename:"/simple-login-system",children:Object(t.jsx)("div",{className:"App",children:Object(t.jsx)("div",{className:"App-header",children:Object(t.jsxs)(l.d,{children:[Object(t.jsx)(l.b,{path:"/",component:B,exact:!0}),Object(t.jsx)(l.b,{path:"/signup",component:M}),Object(t.jsx)(Z,{path:"/dashboard",component:z}),Object(t.jsx)("h1",{children:"Error 404"})]})})})})})},E=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,292)).then((function(a){var s=a.getCLS,t=a.getFID,r=a.getFCP,n=a.getLCP,i=a.getTTFB;s(e),t(e),r(e),n(e),i(e)}))};o.a.render(Object(t.jsx)(n.a.StrictMode,{children:Object(t.jsx)(_,{})}),document.getElementById("root")),E()}},[[248,1,2]]]);
//# sourceMappingURL=main.66efd963.chunk.js.map